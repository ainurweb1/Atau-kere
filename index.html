<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û—Ä–∞–ª—Ö–∞–Ω –ë”©–∫–µ–π: –≠—Å—Å–µ –¢–∞–ø—Å—ã—Ä–º–∞—Å—ã</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            overflow-x: hidden;
            background-color: #f7f9fc;
        }
        .parallax-container {
            height: 100vh;
            overflow-y: scroll;
            overflow-x: hidden;
            perspective: 1px; /* Parallax effect */
        }
        .parallax-layer {
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            transform-origin: top left;
        }

        /* 1. –§–æ–Ω–¥—ã“õ –º”ô—Ç—ñ–Ω (–µ“£ –∞–ª—ã—Å) */
        #layer-back {
            transform: translateZ(-2px) scale(3);
            background: linear-gradient(180deg, #e0f2f1, #a7f3d0);
            z-index: -3;
        }

        /* 2. –ê—Ä–∞–ª–∞—Ä (–æ—Ä—Ç–∞—à–∞ “õ–∞—à—ã“õ—Ç—ã“õ) */
        #layer-mid {
            transform: translateZ(-1px) scale(2);
            z-index: -2;
        }

        /* 3. –ù–µ–≥—ñ–∑–≥—ñ –∫–æ–Ω—Ç–µ–Ω—Ç (–µ“£ –∂–∞“õ—ã–Ω) */
        #layer-front {
            transform: translateZ(0);
            z-index: 10;
        }

        /* –§–æ–Ω–¥—ã“õ –º”ô—Ç—ñ–Ω–Ω—ñ“£ “õ–æ–∑“ì–∞–ª—ã—Å—ã */
        .moving-text-container {
            position: absolute;
            width: 200vw; /* Wide enough for endless scroll look */
            height: 200vh;
            animation: moveText 60s linear infinite;
            display: flex;
            flex-direction: column;
            opacity: 0.1;
            transform: rotate(-10deg);
        }

        .moving-text-row {
            display: flex;
            gap: 4rem;
            white-space: nowrap;
            padding: 1rem 0;
        }
        
        @keyframes moveText {
            from { transform: translate(-50%, -50%) rotate(-10deg); }
            to { transform: translate(0, 0) rotate(-10deg); }
        }

        /* –ê—Ä–∞–ª–∞—Ä –∞–Ω–∏–º–∞—Ü–∏—è—Å—ã */
        .bee {
            position: absolute;
            /* ”®–ª—à–µ–º—ñ –∫—ñ—à—ñ—Ä–µ–π—Ç—ñ–ª–¥—ñ */
            font-size: 1.5rem; 
            animation: fly linear infinite;
            filter: drop-shadow(0 0 5px rgba(255, 255, 0, 0.5));
        }

        /* ”ò—Ä –∞—Ä–∞“ì–∞ –∂–µ–∫–µ –∞–Ω–∏–º–∞—Ü–∏—è–Ω—ã “õ–æ–ª–¥–∞–Ω—É “Ø—à—ñ–Ω */
        #bee1 { animation-duration: 15s; top: 10%; left: 50%; }
        #bee2 { animation-duration: 12s; top: 40%; left: 10%; }
        #bee3 { animation-duration: 18s; top: 70%; left: 80%; }
        #bee4 { animation-duration: 14s; top: 20%; left: 30%; }
        #bee5 { animation-duration: 20s; top: 85%; left: 60%; }

        @keyframes fly {
            0%, 100% {
                transform: translate(0, 0) rotate(5deg);
                opacity: 0.7;
            }
            25% {
                transform: translate(calc(100vw - 100px), 100px) rotate(-10deg);
                opacity: 0.9;
            }
            50% {
                transform: translate(-100px, 300px) rotate(15deg);
                opacity: 0.6;
            }
            75% {
                transform: translate(calc(100vw - 200px), 500px) rotate(-5deg);
                opacity: 1;
            }
        }

        /* –≠—Å—Å–µ –∞—É–º–∞“ì—ã–Ω–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω –∞—Ä–Ω–∞–π—ã —Å—Ç–∏–ª—å–¥–µ—Ä */
        #essayTextarea {
            resize: none;
            height: 300px;
        }
        
        /* –ö–µ—Ä—ñ –±–∞–π–ª–∞–Ω—ã—Å –º–æ–¥–∞–ª—ã */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.6);
            backdrop-filter: blur(5px);
        }
        .modal-content {
            background-color: #fff;
            margin: 15% auto;
            padding: 2rem;
            border-radius: 1rem;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            animation: fadeIn 0.3s;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

    <div class="parallax-container" id="parallaxContainer">
        
        <!-- –ê—Ä—Ç“õ—ã —Ñ–æ–Ω: “ö–æ–∑“ì–∞–ª–∞—Ç—ã–Ω –º”ô—Ç—ñ–Ω (–ï“£ –∞–ª—ã—Å) -->
        <div class="parallax-layer" id="layer-back">
            <div class="moving-text-container">
                <div class="moving-text-row text-6xl font-extrabold text-green-700">
                    <!-- 20 —Ä–µ—Ç “õ–∞–π—Ç–∞–ª–∞—É -->
                    <span>–û–†–ê–õ–•–ê–ù –ë”®–ö–ï–ô</span><span>–ê—Ç–∞—É –∫–µ—Ä–µ</span><span>–û–†–ê–õ–•–ê–ù –ë”®–ö–ï–ô</span><span>–ê—Ç–∞—É –∫–µ—Ä–µ</span><span>–û–†–ê–õ–•–ê–ù –ë”®–ö–ï–ô</span><span>–ê—Ç–∞—É –∫–µ—Ä–µ</span><span>–û–†–ê–õ–•–ê–ù –ë”®–ö–ï–ô</span><span>–ê—Ç–∞—É –∫–µ—Ä–µ</span><span>–û–†–ê–õ–•–ê–ù –ë”®–ö–ï–ô</span><span>–ê—Ç–∞—É –∫–µ—Ä–µ</span>
                </div>
                <div class="moving-text-row text-5xl font-light text-yellow-600 ml-10">
                    <!-- 20 —Ä–µ—Ç “õ–∞–π—Ç–∞–ª–∞—É -->
                    <span>–ê—Ç–∞—É –∫–µ—Ä–µ</span><span>–û–†–ê–õ–•–ê–ù –ë”®–ö–ï–ô</span><span>–ê—Ç–∞—É –∫–µ—Ä–µ</span><span>–û–†–ê–õ–•–ê–ù –ë”®–ö–ï–ô</span><span>–ê—Ç–∞—É –∫–µ—Ä–µ</span><span>–û–†–ê–õ–•–ê–ù –ë”®–ö–ï–ô</span><span>–ê—Ç–∞—É –∫–µ—Ä–µ</span><span>–û–†–ê–õ–•–ê–ù –ë”®–ö–ï–ô</span><span>–ê—Ç–∞—É –∫–µ—Ä–µ</span><span>–û–†–ê–õ–•–ê–ù –ë”®–ö–ï–ô</span>
                </div>
            </div>
        </div>

        <!-- –û—Ä—Ç–∞“£“ì—ã —Ñ–æ–Ω: –ê—Ä–∞–ª–∞—Ä (–û—Ä—Ç–∞—à–∞ “õ–∞—à—ã“õ—Ç—ã“õ) -->
        <div class="parallax-layer" id="layer-mid">
            <span id="bee1" class="bee">üêù</span>
            <span id="bee2" class="bee">üêù</span>
            <span id="bee3" class="bee">üêù</span>
            <span id="bee4" class="bee">üêù</span>
            <span id="bee5" class="bee">üêù</span>
        </div>

        <!-- –ê–ª–¥—ã“£“ì—ã —Ñ–æ–Ω: –ù–µ–≥—ñ–∑–≥—ñ –∫–æ–Ω—Ç–µ–Ω—Ç (–ï“£ –∂–∞“õ—ã–Ω) -->
        <div class="parallax-layer" id="layer-front">
            <div class="max-w-4xl mx-auto p-4 md:p-8 lg:p-12 min-h-[100vh]">
                
                <!-- –ê“õ –ø–∞—Ä–∞“õ –∫–∞—Ä—Ç–∞—Å—ã -->
                <div class="bg-white p-6 md:p-10 rounded-xl shadow-2xl mt-12 mb-20 border-t-8 border-yellow-500/70">
                    
                    <!-- –ñ–æ“ì–∞—Ä“ì—ã –¥–µ—Ä–µ–∫—Ç–µ—Ä -->
                    <header class="text-center mb-10 border-b pb-4">
                        <h1 class="text-xl md:text-2xl font-semibold text-gray-700 mb-2">
                            –ê–ª–º–∞—Ç—ã “õ–∞–ª–∞—Å—ã ‚Ññ202 –º–µ–∫—Ç–µ–ø-–≥–∏–º–Ω–∞–∑–∏—è—Å—ã–Ω—ã“£
                        </h1>
                        <p class="text-sm md:text-base text-gray-500 italic">“ö–∞–∑–∞“õ —Ç—ñ–ª—ñ –º–µ–Ω ”ô–¥–µ–±–∏–µ—Ç –ø”ô–Ω—ñ –±–æ–π—ã–Ω—à–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—Ç—ñ —Ç–∞–ø—Å—ã—Ä–º–∞ –ø–∞—Ä–∞“ì—ã</p>
                    </header>

                    <!-- –û“õ—É—à—ã –º”ô–ª—ñ–º–µ—Ç—Ç–µ—Ä—ñ -->
                    <section class="mb-10 grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="flex flex-col">
                            <label for="studentClass" class="text-sm font-medium text-gray-700 mb-1">–û“õ—É—à—ã–Ω—ã“£ —Å—ã–Ω—ã–±—ã:</label>
                            <input type="text" id="studentClass" placeholder="–ú—ã—Å–∞–ª—ã: 10 ¬´–ê¬ª" class="p-3 border border-gray-300 rounded-lg focus:ring-yellow-500 focus:border-yellow-500 transition duration-150">
                        </div>
                        <div class="flex flex-col">
                            <label for="studentName" class="text-sm font-medium text-gray-700 mb-1">–û“õ—É—à—ã–Ω—ã“£ –∞—Ç—ã-–∂”©–Ω—ñ:</label>
                            <input type="text" id="studentName" placeholder="–ú—ã—Å–∞–ª—ã: –ê—Ö–º–µ—Ç–æ–≤ –ê–π–¥—ã–Ω" class="p-3 border border-gray-300 rounded-lg focus:ring-yellow-500 focus:border-yellow-500 transition duration-150">
                        </div>
                    </section>

                    <!-- –≠—Å—Å–µ –∂–∞–∑—É –±”©–ª—ñ–º—ñ -->
                    <section class="mb-10">
                        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-4 text-center">–≠—Å—Å–µ –∂–∞–∑–±–∞—Å—ã</h2>
                        
                        <!-- –¢–∞“õ—ã—Ä—ã–ø —Ç–∞“£–¥–∞—É -->
                        <div class="p-4 bg-gray-50 rounded-lg mb-6">
                            <p class="text-sm font-semibold text-gray-600 mb-3">–¢–∞“õ—ã—Ä—ã–ø—Ç—ã —Ç–∞“£–¥–∞“£—ã–∑ (–º—ñ–Ω–¥–µ—Ç—Ç—ñ):</p>
                            
                            <div class="space-y-3">
                                <label class="flex items-center p-3 border rounded-lg bg-white cursor-pointer hover:bg-yellow-50 transition duration-150">
                                    <input type="radio" name="essayTopic" value="topic1" class="form-radio h-5 w-5 text-yellow-600 topic-radio" onchange="updateTopic(this.value)">
                                    <span class="ml-3 text-sm text-gray-800">
                                        <strong class="text-yellow-600">1)</strong> “∞–ª—Ç—Ç—ã“õ –¥”ô—Å—Ç“Ø—Ä –º–µ–Ω —Ä—É—Ö–∞–Ω–∏ –º“±—Ä–∞ ‚Äì –∞–¥–∞–º –±–æ–ª–º—ã—Å—ã–Ω—ã“£ –Ω–µ–≥—ñ–∑—ñ. <br>
                                        <span class="text-xs italic text-gray-500">(¬´–ê—Ç–∞—É –∫–µ—Ä–µ¬ª —à—ã“ì–∞—Ä–º–∞—Å—ã–Ω–¥–∞“ì—ã “±–ª—Ç—Ç—ã“õ —Å–∞–ª—Ç-–¥”ô—Å—Ç“Ø—Ä–¥—ñ“£ –º–∞“£—ã–∑—ã –∞—Ä“õ—ã–ª—ã –¥”ô–ª–µ–ª–¥–µ—É)</span>
                                    </span>
                                </label>
                                
                                <label class="flex items-center p-3 border rounded-lg bg-white cursor-pointer hover:bg-yellow-50 transition duration-150">
                                    <input type="radio" name="essayTopic" value="topic2" class="form-radio h-5 w-5 text-yellow-600 topic-radio" onchange="updateTopic(this.value)">
                                    <span class="ml-3 text-sm text-gray-800">
                                        <strong class="text-yellow-600">2)</strong> –ñ–∞“ª–∞–Ω–¥–∞–Ω—É –¥”ô—É—ñ—Ä—ñ–Ω–¥–µ “±–ª—Ç—Ç—ã“õ —Ç–∞–º—ã—Ä–¥—ã —Å–∞“õ—Ç–∞—É ‚Äì –±–∞—Å—Ç—ã –º—ñ–Ω–¥–µ—Ç. <br>
                                        <span class="text-xs italic text-gray-500">(–®—ã“ì–∞—Ä–º–∞–¥–∞“ì—ã –¥”ô—Å—Ç“Ø—Ä –º–µ–Ω “õ–∞–∑—ñ—Ä–≥—ñ “õ–æ“ì–∞–º –∞—Ä–∞—Å—ã–Ω–¥–∞“ì—ã –±–∞–π–ª–∞–Ω—ã—Å –∞—Ä“õ—ã–ª—ã –æ–π “õ–æ—Ä—ã—Ç—É)</span>
                                    </span>
                                </label>
                            </div>
                        </div>

                        <!-- –¢–∞“£–¥–∞–ª“ì–∞–Ω —Ç–∞“õ—ã—Ä—ã–ø—Ç—ã –∫”©—Ä—Å–µ—Ç—É -->
                        <div class="mb-4 p-3 bg-green-50 rounded-lg border-l-4 border-green-400">
                            <p class="text-sm font-semibold text-green-700">–¢–∞“£–¥–∞–ª“ì–∞–Ω —Ç–∞“õ—ã—Ä—ã–ø:</p>
                            <p id="selectedTopicDisplay" class="text-base font-medium text-green-800 italic">–¢–∞“õ—ã—Ä—ã–ø —Ç–∞“£–¥–∞“£—ã–∑...</p>
                        </div>

                        <!-- –ë–∞“ì–∞–ª–∞—É –∫—Ä–∏—Ç–µ—Ä–∏—ñ -->
                        <div class="p-4 bg-red-50 rounded-lg mb-6 border border-red-200">
                            <h3 class="text-lg font-bold text-red-700 mb-2">–ë–∞“ì–∞–ª–∞—É –∫—Ä–∏—Ç–µ—Ä–∏—ñ (–ï“£ –∂–æ“ì–∞—Ä—ã –±–∞–ª–ª - 10):</h3>
                            <ul class="list-disc ml-5 text-sm text-gray-700 space-y-1">
                                <li>–¢–∞“õ—ã—Ä—ã–ø—Ç—ã“£ –∞—à—ã–ª—É—ã –∂”ô–Ω–µ –Ω–µ–≥—ñ–∑–≥—ñ –æ–π–¥—ã“£ –∞–Ω—ã“õ—Ç—ã“ì—ã (3 –±–∞–ª–ª)</li>
                                <li>–ê—Ä–≥—É–º–µ–Ω—Ç—Ç–µ—Ä–¥—ñ“£ –¥”ô–π–µ–∫—Ç—ñ–ª—ñ–≥—ñ –∂”ô–Ω–µ —à—ã“ì–∞—Ä–º–∞–¥–∞–Ω –∞–ª—ã–Ω“ì–∞–Ω –¥”ô–ª–µ–ª–¥–µ—Ä (3 –±–∞–ª–ª)</li>
                                <li>“ö–∞–∑–∞“õ —Ç—ñ–ª—ñ–Ω—ñ“£ –Ω–æ—Ä–º–∞–ª–∞—Ä—ã–Ω–∞ —Å”ô–π–∫–µ—Å—Ç—ñ–≥—ñ, —Å–∞—É–∞—Ç—Ç—ã–ª—ã“ì—ã (2 –±–∞–ª–ª)</li>
                                <li>“ö“±—Ä—ã–ª—ã–º–Ω—ã“£ —Å–∞“õ—Ç–∞–ª—É—ã (–∫—ñ—Ä—ñ—Å–ø–µ, –Ω–µ–≥—ñ–∑–≥—ñ –±”©–ª—ñ–º, “õ–æ—Ä—ã—Ç—ã–Ω–¥—ã) (2 –±–∞–ª–ª)</li>
                            </ul>
                            <p class="mt-2 text-xs font-semibold text-red-600">–ù–∞–∑–∞—Ä –∞—É–¥–∞—Ä—ã“£—ã–∑: –≠—Å—Å–µ –∫”©–ª–µ–º—ñ 250 —Å”©–∑–¥–µ–Ω –∞—Å–ø–∞—É—ã –∫–µ—Ä–µ–∫.</p>
                        </div>
                        
                        <!-- –≠—Å—Å–µ –∂–∞–∑—É –∞—É–º–∞“ì—ã -->
                        <label for="essayTextarea" class="block text-sm font-medium text-gray-700 mb-1">–≠—Å—Å–µ:</label>
                        <textarea id="essayTextarea" 
                                  placeholder="–≠—Å—Å–µ“£—ñ–∑–¥—ñ –æ—Å—ã –∂–µ—Ä–≥–µ –∂–∞–∑—ã“£—ã–∑..." 
                                  class="w-full p-4 border-2 border-gray-300 rounded-xl focus:border-yellow-500 focus:ring-yellow-500 transition duration-150 text-base shadow-inner"
                                  oninput="updateWordCount()"
                                  oncopy="disableCopyPaste(event)"
                                  oncut="disableCopyPaste(event)"
                                  onpaste="disableCopyPaste(event)"
                        ></textarea>
                        
                        <div class="flex justify-between items-center mt-2">
                            <p id="wordCount" class="text-sm text-gray-600">–°”©–∑ —Å–∞–Ω—ã: 0 / 250</p>
                            <button id="submitBtn" onclick="submitEssay()" class="px-6 py-3 bg-yellow-500 text-white font-bold rounded-full shadow-md hover:bg-yellow-600 transition duration-300 transform hover:scale-105 disabled:opacity-50" disabled>
                                –ñ“±–º—ã—Å—Ç—ã —Ç–∞–ø—Å—ã—Ä—É
                            </button>
                        </div>
                        <p id="errorMsg" class="mt-2 text-sm text-red-500 hidden font-semibold">–¢–∞“õ—ã—Ä—ã–ø—Ç—ã —Ç–∞“£–¥–∞–ø, —ç—Å—Å–µ –∂–∞–∑—É–¥—ã –±–∞—Å—Ç–∞“£—ã–∑.</p>

                    </section>

                    <!-- –¢”©–º–µ–Ω–≥—ñ –¥–µ—Ä–µ–∫—Ç–µ—Ä -->
                    <footer class="mt-10 pt-4 border-t text-center text-xs text-gray-500">
                        <p class="mb-1">2025 –∂—ã–ª</p>
                        <p class="font-semibold text-gray-600">“ö–∞–∑–∞“õ —Ç—ñ–ª—ñ –º–µ–Ω ”ô–¥–µ–±–∏–µ—Ç –ø”ô–Ω—ñ –º“±“ì–∞–ª—ñ–º—ñ</p>
                        <p class="font-bold text-base text-gray-700">–®–∞–π–º–∞“ì–∞–Ω–±–µ—Ç–æ–≤–∞ –ê–ª—Ç—ã–Ω–≥“Ø–ª –ö–µ–Ω–∂–µ“ì–∞—Ä–∞“õ—ã–∑—ã</p>
                    </footer>

                </div>

            </div>
        </div>
    </div>

    <!-- –ö–µ—Ä—ñ –±–∞–π–ª–∞–Ω—ã—Å –º–æ–¥–∞–ª—ã -->
    <div id="feedbackModal" class="modal">
        <div class="modal-content">
            <div id="loadingIndicator" class="text-center p-4">
                <div class="animate-spin rounded-full h-10 w-10 border-b-2 border-yellow-500 mx-auto mb-4"></div>
                <p class="text-lg font-semibold text-gray-700">–ñ“±–º—ã—Å —Ç–µ–∫—Å–µ—Ä—ñ–ª—É–¥–µ. –ö“Ø—Ç–µ —Ç“±—Ä—ã“£—ã–∑...</p>
                <p class="text-sm text-gray-500 mt-1">(–ù–∞“õ—Ç—ã –∂“Ø–π–µ–¥–µ –∫–µ—Ä—ñ –±–∞–π–ª–∞–Ω—ã—Å 2 –º–∏–Ω—É—Ç—Ç–∞–Ω –∫–µ–π—ñ–Ω –∫–µ–ª–µ–¥—ñ, –±“±–ª –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è–¥–∞ 5 —Å–µ–∫—É–Ω–¥)</p>
            </div>
            
            <div id="feedbackContent" class="hidden">
                <h3 class="text-2xl font-bold text-green-600 mb-4 border-b pb-2">–ö–µ—Ä—ñ –±–∞–π–ª–∞–Ω—ã—Å</h3>
                
                <div class="mb-4 p-4 bg-green-100 rounded-lg">
                    <p class="text-xl font-bold text-green-700">–ë–∞“ì–∞: <span id="finalScore" class="text-3xl"></span> / 10</p>
                </div>
                
                <h4 class="text-lg font-semibold text-gray-700 mb-2">–ú“±“ì–∞–ª—ñ–º–Ω—ñ“£ —Ç–æ–ª—ã“õ “±—Å—ã–Ω—ã—Å—Ç–∞—Ä—ã:</h4>
                <div id="fullFeedbackText" class="p-3 bg-gray-50 rounded-lg text-gray-800 text-sm whitespace-pre-line border border-gray-200"></div>

                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">–ù–µ–≥—ñ–∑–≥—ñ “õ–∞—Ç–µ–ª–µ—Ä:</h4>
                <ul id="errorList" class="list-disc ml-5 text-red-600 text-sm"></ul>

                <button onclick="document.getElementById('feedbackModal').style.display = 'none'" 
                        class="mt-6 w-full py-3 bg-green-500 text-white font-bold rounded-lg hover:bg-green-600 transition duration-300">
                    –ñ–∞–±—É
                </button>
            </div>
        </div>
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª–¥—ã –∞–π–Ω—ã–º–∞–ª—ã–ª–∞—Ä
        const topic1Text = '“∞–ª—Ç—Ç—ã“õ –¥”ô—Å—Ç“Ø—Ä –º–µ–Ω —Ä—É—Ö–∞–Ω–∏ –º“±—Ä–∞ ‚Äì –∞–¥–∞–º –±–æ–ª–º—ã—Å—ã–Ω—ã“£ –Ω–µ–≥—ñ–∑—ñ. (¬´–ê—Ç–∞—É –∫–µ—Ä–µ¬ª —à—ã“ì–∞—Ä–º–∞—Å—ã–Ω–¥–∞“ì—ã “±–ª—Ç—Ç—ã“õ —Å–∞–ª—Ç-–¥”ô—Å—Ç“Ø—Ä–¥—ñ“£ –º–∞“£—ã–∑—ã –∞—Ä“õ—ã–ª—ã –¥”ô–ª–µ–ª–¥–µ—É)';
        const topic2Text = '–ñ–∞“ª–∞–Ω–¥–∞–Ω—É –¥”ô—É—ñ—Ä—ñ–Ω–¥–µ “±–ª—Ç—Ç—ã“õ —Ç–∞–º—ã—Ä–¥—ã —Å–∞“õ—Ç–∞—É ‚Äì –±–∞—Å—Ç—ã –º—ñ–Ω–¥–µ—Ç. (–®—ã“ì–∞—Ä–º–∞–¥–∞“ì—ã –¥”ô—Å—Ç“Ø—Ä –º–µ–Ω “õ–∞–∑—ñ—Ä–≥—ñ “õ–æ“ì–∞–º –∞—Ä–∞—Å—ã–Ω–¥–∞“ì—ã –±–∞–π–ª–∞–Ω—ã—Å –∞—Ä“õ—ã–ª—ã –æ–π “õ–æ—Ä—ã—Ç—É)';
        let selectedTopic = null;
        const WORD_LIMIT = 250;
        const FEEDBACK_DELAY_MS = 5000; // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è “Ø—à—ñ–Ω 5 —Å–µ–∫—É–Ω–¥. –ù–∞“õ—Ç—ã 2 –º–∏–Ω—É—Ç: 120000 –º—Å

        // --- 1. Parallax –õ–æ–≥–∏–∫–∞—Å—ã ---
        document.addEventListener('DOMContentLoaded', () => {
            const container = document.getElementById('parallaxContainer');
            const layerBack = document.getElementById('layer-back');
            const layerMid = document.getElementById('layer-mid');

            // Parallax —ç—Ñ—Ñ–µ–∫—Ç—ñ—Å—ñ–Ω –±–∞—Å“õ–∞—Ä—É
            container.addEventListener('scroll', () => {
                const scrollY = container.scrollTop;
                // –ê—Ä—Ç“õ—ã “õ–∞–±–∞—Ç –±–∞—è—É “õ–æ–∑“ì–∞–ª–∞–¥—ã
                layerBack.style.transform = `translateZ(-2px) scale(3) translateY(${scrollY * 0.1}px)`;
                // –û—Ä—Ç–∞“£“ì—ã “õ–∞–±–∞—Ç –æ—Ä—Ç–∞—à–∞ –∂—ã–ª–¥–∞–º–¥—ã“õ–ø–µ–Ω “õ–æ–∑“ì–∞–ª–∞–¥—ã (–∞—Ä–∞–ª–∞—Ä)
                layerMid.style.transform = `translateZ(-1px) scale(2) translateY(${scrollY * 0.3}px)`;
            });
        });

        // --- 2. –≠—Å—Å–µ –õ–æ–≥–∏–∫–∞—Å—ã ---

        // –¢–∞“õ—ã—Ä—ã–ø—Ç—ã –∂–∞“£–∞—Ä—Ç—É
        function updateTopic(topicValue) {
            const display = document.getElementById('selectedTopicDisplay');
            const submitBtn = document.getElementById('submitBtn');
            const errorMsg = document.getElementById('errorMsg');

            if (topicValue === 'topic1') {
                selectedTopic = topic1Text;
            } else if (topicValue === 'topic2') {
                selectedTopic = topic2Text;
            } else {
                selectedTopic = null;
            }

            display.textContent = selectedTopic || '–¢–∞“õ—ã—Ä—ã–ø —Ç–∞“£–¥–∞“£—ã–∑...';

            // –¢–∞“õ—ã—Ä—ã–ø —Ç–∞“£–¥–∞–ª—Å–∞, —Ç–∞–ø—Å—ã—Ä—É –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω —ñ—Å–∫–µ “õ–æ—Å—É
            updateSubmitButtonState();
        }

        // –°”©–∑ —Å–∞–Ω—ã–Ω –∂–∞“£–∞—Ä—Ç—É –∂”ô–Ω–µ –ª–∏–º–∏—Ç—Ç—ñ —Ç–µ–∫—Å–µ—Ä—É
        function updateWordCount() {
            const textarea = document.getElementById('essayTextarea');
            const wordCountDisplay = document.getElementById('wordCount');
            const text = textarea.value.trim();
            
            // –°”©–∑–¥–µ—Ä–¥—ñ –µ—Å–µ–ø—Ç–µ—É
            const words = text ? text.split(/\s+/) : [];
            const count = words.length;

            wordCountDisplay.textContent = `–°”©–∑ —Å–∞–Ω—ã: ${count} / ${WORD_LIMIT}`;

            if (count > WORD_LIMIT) {
                // –õ–∏–º–∏—Ç—Ç–µ–Ω –∞—Å—ã–ø –∫–µ—Ç—Å–µ, —Å–æ“£“ì—ã —Å”©–∑–¥–µ—Ä–¥—ñ –∫–µ—Å—ñ–ø —Ç–∞—Å—Ç–∞—É
                const limitedText = words.slice(0, WORD_LIMIT).join(' ');
                textarea.value = limitedText;
                wordCountDisplay.classList.remove('text-gray-600');
                wordCountDisplay.classList.add('text-red-500');
            } else {
                wordCountDisplay.classList.remove('text-red-500');
                wordCountDisplay.classList.add('text-gray-600');
            }
            
            updateSubmitButtonState(count);
        }

        // –¢–∞–ø—Å—ã—Ä—É –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω—ã“£ –∫“Ø–π—ñ–Ω –∂–∞“£–∞—Ä—Ç—É
        function updateSubmitButtonState(currentWordCount) {
            const submitBtn = document.getElementById('submitBtn');
            const textarea = document.getElementById('essayTextarea');
            const count = currentWordCount !== undefined ? currentWordCount : (textarea.value.trim() ? textarea.value.trim().split(/\s+/).length : 0);
            const isTopicSelected = selectedTopic !== null;
            const isTextWritten = count > 0;

            if (isTopicSelected && isTextWritten) {
                submitBtn.disabled = false;
                document.getElementById('errorMsg').classList.add('hidden');
            } else {
                submitBtn.disabled = true;
                if (!isTopicSelected) {
                    document.getElementById('errorMsg').classList.remove('hidden');
                }
            }
        }

        // –ö”©—à—ñ—Ä—É-“õ–æ—é–¥—ã ”©—à—ñ—Ä—É (Copy-Paste Restriction)
        function disableCopyPaste(event) {
            const messageBox = document.createElement('div');
            messageBox.textContent = "–ö”©—à—ñ—Ä—É-“õ–æ—é —Ñ—É–Ω–∫—Ü–∏—è—Å—ã –±“±–ª —Ç–∞–ø—Å—ã—Ä–º–∞–¥–∞ ”©—à—ñ—Ä—ñ–ª–≥–µ–Ω.";
            messageBox.className = "fixed top-10 right-10 bg-red-500 text-white px-4 py-3 rounded-lg shadow-xl transition-opacity duration-300 opacity-0 z-50";
            document.body.appendChild(messageBox);
            
            setTimeout(() => {
                messageBox.classList.remove('opacity-0');
                messageBox.classList.add('opacity-100');
            }, 10);

            setTimeout(() => {
                messageBox.classList.remove('opacity-100');
                messageBox.classList.add('opacity-0');
                setTimeout(() => messageBox.remove(), 300);
            }, 3000);

            event.preventDefault();
        }

        // –ö–µ—Ä—ñ –±–∞–π–ª–∞–Ω—ã—Å –º–æ–¥–∞–ª—ã–Ω –∫”©—Ä—Å–µ—Ç—É–≥–µ –∞—Ä–Ω–∞–ª“ì–∞–Ω –∫”©–º–µ–∫—à—ñ —Ñ—É–Ω–∫—Ü–∏—è
        function showFeedbackModal(score, suggestions, errors) {
            const loading = document.getElementById('loadingIndicator');
            const content = document.getElementById('feedbackContent');
            
            loading.classList.add('hidden');
            content.classList.remove('hidden');

            document.getElementById('finalScore').textContent = score;
            document.getElementById('fullFeedbackText').textContent = suggestions.trim();
            
            const errorList = document.getElementById('errorList');
            errorList.innerHTML = '';
            if (errors.length === 0) {
                errorList.innerHTML = '<li class="text-green-600">–ï—à“õ–∞–Ω–¥–∞–π –Ω–µ–≥—ñ–∑–≥—ñ “õ–∞—Ç–µ–ª–µ—Ä —Ç–∞–±—ã–ª“ì–∞–Ω –∂–æ“õ. –ñ–∞—Ä–∞–π—Å—ã“£!</li>';
            } else {
                errors.forEach(err => {
                    const li = document.createElement('li');
                    li.textContent = err;
                    errorList.appendChild(li);
                });
            }
        }

        // --- 3. –ö–µ—Ä—ñ –±–∞–π–ª–∞–Ω—ã—Å –ª–æ–≥–∏–∫–∞—Å—ã ---

        function submitEssay() {
            const essayText = document.getElementById('essayTextarea').value;
            const wordCount = essayText.trim().split(/\s+/).filter(word => word.length > 0).length;

            if (!selectedTopic) {
                // –ë—ñ–∑–¥—ñ“£ –µ—Ä–µ–∂–µ –±–æ–π—ã–Ω—à–∞ alert –æ—Ä–Ω—ã–Ω–∞ custom modal “õ–æ–ª–¥–∞–Ω—É –∫–µ—Ä–µ–∫, –±—ñ—Ä–∞“õ –±“±–ª –∂–µ—Ä–¥–µ
                // –±“±—Ä—ã–Ω“ì—ã –∫–æ–¥—Ç–∞“ì—ã–¥–∞–π –∞“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ —Ö–∞–±–∞—Ä–ª–∞–º–∞ —Ä–µ—Ç—ñ–Ω–¥–µ “õ–∞–ª–¥—ã—Ä–∞–º—ã–∑.
                const errorMsg = document.getElementById('errorMsg');
                if (errorMsg.classList.contains('hidden')) {
                    errorMsg.textContent = "–¢–∞–ø—Å—ã—Ä–º–∞–Ω—ã –∂—ñ–±–µ—Ä—É “Ø—à—ñ–Ω —Ç–∞“õ—ã—Ä—ã–ø—Ç—ã —Ç–∞“£–¥–∞“£—ã–∑.";
                    errorMsg.classList.remove('hidden');
                }
                return;
            }

            if (wordCount === 0) {
                const errorMsg = document.getElementById('errorMsg');
                if (errorMsg.classList.contains('hidden')) {
                    errorMsg.textContent = "–≠—Å—Å–µ –º”ô—Ç—ñ–Ω—ñ–Ω –∂–∞–∑—ã“£—ã–∑.";
                    errorMsg.classList.remove('hidden');
                }
                return;
            }

            // –ú–æ–¥–∞–ª–¥—ã –∫”©—Ä—Å–µ—Ç—É –∂”ô–Ω–µ –∂“Ø–∫—Ç–µ—É–¥—ñ –±–∞—Å—Ç–∞—É
            const modal = document.getElementById('feedbackModal');
            const loading = document.getElementById('loadingIndicator');
            const content = document.getElementById('feedbackContent');
            
            modal.style.display = 'block';
            loading.classList.remove('hidden');
            content.classList.add('hidden');
            
            // –¢–∞–ø—Å—ã—Ä—É –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω ”©—à—ñ—Ä—É
            document.getElementById('submitBtn').disabled = true;

            // 2 –º–∏–Ω—É—Ç—Ç—ã“õ (–¥–µ–º–æ “Ø—à—ñ–Ω 5 —Å–µ–∫—É–Ω–¥—Ç—ã“õ) –∫—ñ–¥—ñ—Ä—ñ—Å
            setTimeout(() => {
                generateMockFeedback(essayText);
            }, FEEDBACK_DELAY_MS);
        }

        function generateMockFeedback(essayText) {
            const MIN_WORDS_FOR_FULL_SCORE = 50; 
            const VERY_LOW_WORDS = 10;
            const wordCount = essayText.trim().split(/\s+/).filter(word => word.length > 0).length;

            // ** 1. ”®—Ç–µ “õ—ã—Å“õ–∞ –∂“±–º—ã—Å“õ–∞ –±–∞–ª–ª–¥—ã —à–µ–∫—Ç–µ—É –ª–æ–≥–∏–∫–∞—Å—ã (1 –±–∞–ª–ª–¥–∞–Ω –∞—Å–ø–∞–π–¥—ã) **
            if (wordCount <= VERY_LOW_WORDS) {
                // 0.5 –ø–µ–Ω 1.0 –∞—Ä–∞–ª—ã“ì—ã–Ω–¥–∞ –∫–µ–∑–¥–µ–π—Å–æ“õ –±–∞–ª–ª
                const finalScore = (Math.random() * 0.5 + 0.5).toFixed(1); 
                const errors = [`–ñ“±–º—ã—Å –∫”©–ª–µ–º—ñ —Ç—ã–º –∞–∑ (${wordCount} —Å”©–∑). –≠—Å—Å–µ —Ç–æ–ª—ã“õ –±–∞“ì–∞–ª–∞—É –∫—Ä–∏—Ç–µ—Ä–∏–π–ª–µ—Ä—ñ–Ω–µ —Å–∞–π –µ–º–µ—Å. –ï“£ –∂–æ“ì–∞—Ä—ã –±–∞–ª–ª - 1.0.`, "–¢–∞“õ—ã—Ä—ã–ø –º“Ø–ª–¥–µ–º –∞—à—ã–ª–º–∞“ì–∞–Ω."];
                const suggestions = `–≠—Å—Å–µ“£—ñ–∑–¥—ñ“£ –∫”©–ª–µ–º—ñ —Ç—ã–º “õ—ã—Å“õ–∞. –¢–æ–ª—ã“õ –±–∞“ì–∞–ª–∞—É “Ø—à—ñ–Ω –º”ô—Ç—ñ–Ω –∫”©–ª–µ–º—ñ–Ω –µ“£ –∫–µ–º—ñ ${MIN_WORDS_FOR_FULL_SCORE} —Å”©–∑–≥–µ –¥–µ–π—ñ–Ω “±–ª“ì–∞–π—Ç—ã“£—ã–∑.`;
                
                showFeedbackModal(finalScore, suggestions, errors);
                return; // –ë–∞—Å“õ–∞ –±–∞“ì–∞–ª–∞—É –ª–æ–≥–∏–∫–∞—Å—ã–Ω –∞—Ç—Ç–∞–ø ”©—Ç—É
            }
            
            // –ï–≥–µ—Ä —Å”©–∑ —Å–∞–Ω—ã –∂–µ—Ç–∫—ñ–ª—ñ–∫—Ç—ñ –±–æ–ª—Å–∞, —Ç–æ–ª—ã“õ –±–∞“ì–∞–ª–∞—É–¥—ã –∂“Ø—Ä–≥—ñ–∑—É:

            let score = 0;
            let errors = [];
            let suggestions = "";

            // 1. –¢–∞“õ—ã—Ä—ã–ø—Ç—ã“£ –∞—à—ã–ª—É—ã (3 –±–∞–ª–ª)
            if (wordCount >= 200) { 
                score += 3.0;
                suggestions += "–¢–∞“õ—ã—Ä—ã–ø—Ç—ã“£ –Ω–µ–≥—ñ–∑–≥—ñ –∏–¥–µ—è—Å—ã ”©—Ç–µ –∞–Ω—ã“õ –∫”©—Ä—Å–µ—Ç—ñ–ª–≥–µ–Ω, –∂–∞–Ω-–∂–∞“õ—Ç—ã —Ç–∞–ª–¥–∞–Ω“ì–∞–Ω.\n\n";
            } else if (wordCount >= 100) { 
                score += 2.5;
                suggestions += "–¢–∞“õ—ã—Ä—ã–ø—Ç—ã“£ –Ω–µ–≥—ñ–∑–≥—ñ –∏–¥–µ—è—Å—ã –∞–Ω—ã“õ –∫”©—Ä—Å–µ—Ç—ñ–ª–≥–µ–Ω, –±—ñ—Ä–∞“õ –∫–µ–π–±—ñ—Ä —Ç“±—Å—Ç–∞—Ä–¥—ã —Ç–µ—Ä–µ“£—ñ—Ä–µ–∫ —Ç–∞–ª–¥–∞—É“ì–∞ –±–æ–ª–∞–¥—ã.\n\n";
            } else {
                score += 1.5;
                errors.push("–¢–∞“õ—ã—Ä—ã–ø —Ç–æ–ª—ã“õ –∞—à—ã–ª–º–∞“ì–∞–Ω. –ù–µ–≥—ñ–∑–≥—ñ –æ–π–¥—ã –∫“Ø—à–µ–π—Ç—É “õ–∞–∂–µ—Ç.");
                suggestions += "–¢–∞“õ—ã—Ä—ã–ø—Ç—ã —Ç–æ–ª—ã“õ –∞—à—É “Ø—à—ñ–Ω –∫”©–±—ñ—Ä–µ–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—Ç–µ—Ä –º–µ–Ω –º—ã—Å–∞–ª–¥–∞—Ä –∫–µ–ª—Ç—ñ—Ä—ñ“£—ñ–∑.\n\n";
            }

            // 2. –ê—Ä–≥—É–º–µ–Ω—Ç—Ç–µ—Ä–¥—ñ“£ –¥”ô–π–µ–∫—Ç—ñ–ª—ñ–≥—ñ (3 –±–∞–ª–ª)
            if (essayText.includes('–ê—Ç–∞—É –∫–µ—Ä–µ') || essayText.includes('–¥”ô—Å—Ç“Ø—Ä') && wordCount > 150) { 
                score += 2.8;
                suggestions += "¬´–ê—Ç–∞—É –∫–µ—Ä–µ¬ª —à—ã“ì–∞—Ä–º–∞—Å—ã–Ω–∞–Ω –¥”ô–π–µ–∫—Ç—ñ –∞—Ä–≥—É–º–µ–Ω—Ç—Ç–µ—Ä “õ–æ–ª–¥–∞–Ω—ã–ª“ì–∞–Ω, –±“±–ª ”©—Ç–µ –∂–∞“õ—Å—ã.\n\n";
            } else if (essayText.includes('–û—Ä–∞–ª—Ö–∞–Ω') && wordCount > 100) {
                score += 2.0;
                suggestions += "–ñ–∞–ª–ø—ã –∞—Ä–≥—É–º–µ–Ω—Ç—Ç–µ—Ä –±–∞—Ä, –±—ñ—Ä–∞“õ —à—ã“ì–∞—Ä–º–∞–¥–∞–Ω –Ω–∞“õ—Ç—ã –¥”ô–π–µ–∫—Ç–µ—Ä–¥—ñ –∫”©–±—ñ—Ä–µ–∫ –∫–µ–ª—Ç—ñ—Ä—ñ“£—ñ–∑.\n\n";
            } else {
                score += 1.0;
                errors.push("¬´–ê—Ç–∞—É –∫–µ—Ä–µ¬ª —à—ã“ì–∞—Ä–º–∞—Å—ã–Ω–∞–Ω –∞–ª—ã–Ω“ì–∞–Ω –Ω–∞“õ—Ç—ã –¥”ô–π–µ–∫—Ç–µ—Ä –Ω–µ–º–µ—Å–µ “Ø–∑—ñ–Ω–¥—ñ–ª–µ—Ä –∂–µ—Ç–∫—ñ–ª—ñ–∫—Å—ñ–∑.");
                suggestions += "–î”ô–ª–µ–ª–¥–µ—É “Ø—à—ñ–Ω —à—ã“ì–∞—Ä–º–∞–¥–∞–Ω –Ω–∞“õ—Ç—ã –º—ã—Å–∞–ª–¥–∞—Ä–¥—ã –∫–µ–ª—Ç—ñ—Ä—É–≥–µ —Ç—ã—Ä—ã—Å—ã“£—ã–∑.\n\n";
            }
            
            // 3. –°–∞—É–∞—Ç—Ç—ã–ª—ã“õ (2 –±–∞–ª–ª)
            const commonErrors = ["—Å–∞–ª—Ç –¥–∞—Å—Ç—É—Ä", "”ô–¥–µ–º—ñ–ª—ñ–∫", "—Ä—É—Ö–∞–Ω–∏ –º—É—Ä–∞"]; 
            const detectedErrors = commonErrors.filter(err => essayText.toLowerCase().includes(err));

            if (detectedErrors.length === 0) {
                score += 2.0;
                suggestions += "–°–∞—É–∞—Ç—Ç—ã–ª—ã“ì—ã ”©—Ç–µ –∂–∞“õ—Å—ã, –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—è–ª—ã“õ –∂”ô–Ω–µ –ø—É–Ω–∫—Ç—É–∞—Ü–∏—è–ª—ã“õ “õ–∞—Ç–µ–ª–µ—Ä –∂–æ“õ.\n\n";
            } else if (detectedErrors.length <= 1) {
                score += 1.5;
                errors.push("–ë—ñ—Ä-–µ–∫—ñ –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—è–ª—ã“õ –Ω–µ–º–µ—Å–µ –ø—É–Ω–∫—Ç—É–∞—Ü–∏—è–ª—ã“õ “õ–∞—Ç–µ–ª–µ—Ä –∫–µ–∑–¥–µ—Å–µ–¥—ñ.");
                suggestions += "–ú”ô—Ç—ñ–Ω–¥—ñ –º“±“õ–∏—è—Ç —Ç–µ–∫—Å–µ—Ä—ñ“£—ñ–∑. ”ò—Å—ñ—Ä–µ—Å–µ –±—ñ—Ä—ñ–∫–∫–µ–Ω —Å”©–∑–¥–µ—Ä–¥—ñ“£ –¥“±—Ä—ã—Å –∂–∞–∑—ã–ª—É—ã–Ω–∞ –Ω–∞–∑–∞—Ä –∞—É–¥–∞—Ä—ã“£—ã–∑.\n\n";
            } else {
                score += 0.5;
                errors.push("–¢—ñ–ª–¥—ñ–∫ –Ω–æ—Ä–º–∞–ª–∞—Ä —Å–∞“õ—Ç–∞–ª–º–∞“ì–∞–Ω, –±—ñ—Ä–Ω–µ—à–µ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞–ª—ã“õ “õ–∞—Ç–µ–ª–µ—Ä –±–∞—Ä.");
                suggestions += "–°”©–π–ª–µ–º “õ“±—Ä—ã–ª—ã–º—ã–Ω –∂–∞“õ—Å–∞—Ä—Ç—ã–ø, —Ç—ã–Ω—ã—Å –±–µ–ª–≥—ñ–ª–µ—Ä—ñ–Ω –¥“±—Ä—ã—Å “õ–æ–ª–¥–∞–Ω—É–¥—ã “Ø–π—Ä–µ–Ω—ñ“£—ñ–∑.\n\n";
            }

            // 4. “ö“±—Ä—ã–ª—ã–º (2 –±–∞–ª–ª)
            if (wordCount >= 200) { 
                score += 2.0;
                suggestions += "–≠—Å—Å–µ “õ“±—Ä—ã–ª—ã–º—ã (–∫—ñ—Ä—ñ—Å–ø–µ, –Ω–µ–≥—ñ–∑–≥—ñ, “õ–æ—Ä—ã—Ç—ã–Ω–¥—ã) —Ç–æ–ª—ã“õ —Å–∞“õ—Ç–∞–ª“ì–∞–Ω.";
            } else if (wordCount >= 100) {
                 score += 1.5;
                suggestions += "–≠—Å—Å–µ “õ“±—Ä—ã–ª—ã–º—ã –∂–∞–ª–ø—ã —Å–∞“õ—Ç–∞–ª“ì–∞–Ω, –±—ñ—Ä–∞“õ “õ–æ—Ä—ã—Ç—ã–Ω–¥—ã –±”©–ª—ñ–º—ñ–Ω –∫“Ø—à–µ–π—Ç—É “õ–∞–∂–µ—Ç.";
            } else {
                score += 1.0;
                errors.push("–≠—Å—Å–µ “õ“±—Ä—ã–ª—ã–º—ã —Ç–æ–ª—ã“õ –µ–º–µ—Å. “ö–æ—Ä—ã—Ç—ã–Ω–¥—ã –±”©–ª—ñ–º–¥—ñ –∫“Ø—à–µ–π—Ç—É “õ–∞–∂–µ—Ç.");
                suggestions += "–ö—ñ—Ä—ñ—Å–ø–µ–¥–µ —Ç–∞“õ—ã—Ä—ã–ø—Ç—ã —Ç–∞–Ω—ã—Å—Ç—ã—Ä—ã–ø, –Ω–µ–≥—ñ–∑–≥—ñ –±”©–ª—ñ–º–¥–µ –¥”ô–ª–µ–ª–¥–µ–ø, “õ–æ—Ä—ã—Ç—ã–Ω–¥—ã–¥–∞ –æ–π—ã“£—ã–∑–¥—ã —Ç“Ø–π—ñ–Ω–¥–µ“£—ñ–∑.";
            }

            // –°–æ“£“ì—ã –±–∞–ª–ª–¥—ã 10 –±–∞–ª–ª–¥–∞–Ω –∞—Å—ã—Ä–º–∞—É
            let finalScore = Math.min(10, score).toFixed(1);

            // –°”©–∑ –ª–∏–º–∏—Ç—ñ–Ω–µ–Ω –∞—Å—ã–ø –∫–µ—Ç—Å–µ, –±–∞–ª–ª–¥—ã –∞–∑–∞–π—Ç—É
            if (wordCount > WORD_LIMIT) {
                finalScore = (parseFloat(finalScore) - 1).toFixed(1);
                errors.push(`–°”©–∑ –ª–∏–º–∏—Ç—ñ–Ω–µ–Ω –∞—Å—ã–ø –∫–µ—Ç–∫–µ–Ω: ${wordCount} / ${WORD_LIMIT} —Å”©–∑. –ë“±–ª 1 –±–∞–ª–ª“ì–∞ –∞–∑–∞–π—Ç—Ç—ã.`);
                if (finalScore < 0) finalScore = 0; // –ë–∞–ª–ª —Ç–µ—Ä—ñ—Å –±–æ–ª–º–∞—É—ã –∫–µ—Ä–µ–∫
            }
            
            showFeedbackModal(finalScore, suggestions, errors);
        }

        // –ñ“Ø–∫—Ç–µ—É –∫–µ–∑—ñ–Ω–¥–µ –±–∞—Ç—ã—Ä–º–∞–Ω—ã“£ –∫“Ø–π—ñ–Ω –æ—Ä–Ω–∞—Ç—É
        document.addEventListener('DOMContentLoaded', () => {
            updateSubmitButtonState(0);
        });

    </script>
</body>
</html>